#!/usr/bin/env bash


set -euox pipefail


# Fish
sudo dnf config-manager --add-repo http://download.opensuse.org/repositories/shells:fish:release:2/Fedora_25/shells:fish:release:2.repo
sudo dnf install -y fish

chsh -s /usr/bin/fish

mkdir -p ~/.config/fish
ln -s `pwd`/fish/config.fish ~/.config/fish/config.fish || true

# curl -L http://get.oh-my.fish | fish

# omf theme fisk


# Python
sudo dnf install -y python python3 ipython

pip install --user virtualfish
mkdir -p ~/.ipython/profile_default/startup
ln -s `pwd`/ipython/profile_default/startup/00-autoreload.ipy ~/ipython/profile_default/startup/00-autoreload.ipy || true


# NeoVim
sudo dnf install -y neovim


# Autojump
sudo dnf install -y autojump autojump-fish


# Direnv
sudo dnf install -y direnv


# Rust
curl https://sh.rustup.rs -sSf | sh
rustup update


# Code
mkdir -p ~/.config/Code/User
ln -s `pwd`/code/keybindings.json ~/.config/Code/User/keybindings.json || true


echo "Please reboot..."
